<html>
  <head>
    <title>Die Ferien </title>
    <link rel="stylesheet" href="https://bootswatch.com/4/darkly/bootstrap.css">
  </head>
  <body>
    <!-- <{tag} {attribut}>{content}</{tag}> -->
    <h1>Der Countdown zu den n√§chsten Ferien!</h1>
    <p id="FCountdown">3 Wochen, 3 Tage, 8 Stunden, 30 minuten, 23 Sekunden</p>
    <h3>bis zu den Ferien! ü§ë</h3>
    <br>
    <select id="Auswahlferien"> 
      <option value="winterferien-2022-TH">Winterferien</option>    ich sein schon gro√ü und vier
      <option value="osterferien-2022-TH">Osterferien</option>    ich sein schon gro√ü und vier
      <option value="pfingstferien-2022-TH">Pfingstferien</option>    ich sein schon gro√ü und vier
      <option value="sommerferien-2022-TH">Sommerferien</option>    ich sein schon gro√ü und vier
      <option value="herbstferien-2022-TH">Herbstferien</option>    ich sein schon gro√ü und vier
      <option value="weihnachtsferien-2022-TH">Weihnachtferien</option>   ich sein schon gro√ü und vier

    </select>
    <br>
    <br>
    <br>
    <br>
    <table border="3"> 
      <thead>
        <tr>
          <td>
            <p>Ferien</p>
          </td>
          <td>
            <p>Beginn</p>
          </td>
          <td>
            <p>Ende</p>
          </td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <p>Osterferien</p>
          </td>
          <td>
            <p>29.03.2021</p>
          </td>
          <td>
            <p>11.04.2021</p>
          </td>
        </tr>
        <tr>
          <td>
            <p>Sommerferien</p>
          </td>
          <td>
            <p>26.06.2021</p>
          </td>
          <td>
            <p>04.07.2021</p>
          </td>
        </tr>
        <tr>
          <td>
            <p>Herbstferien</p>
          </td>
          <td>
            <p>25.10.2021</p>
          </td>
          <td>
            <p>29.10.2021</p>
          </td>
        </tr>

      </tbody>
    </table>
    <br>
    <br>
    <br>
    <a href="https://github.com/lgh-ag/lghag.de">üß† Der Source-Code üß†</a>
    <script>
      
      var json = "";
      var obj = null;
      
      function reqListener () {
        json = (this.responseText);
        obj = JSON.parse(json);
        getSecounds();
      }

      var oReq = new XMLHttpRequest();
      oReq.addEventListener("load", reqListener);
      oReq.open("GET", "http://lgh-ag-cors.herokuapp.com/https://ferien-api.de/api/v1/holidays/TH/2022");
      oReq.setRequestHeader("x-requested-with", "lghag.de");
      oReq.send();



      function getSecounds() {
        var ferienDate = Date.parse(obj[0].start);
        var currentDate = Date.now();

        var milli = ferienDate - currentDate
        var abgezogen = 0;

        var wochen = Math.floor ((milli - abgezogen) /1000 /60 /60 /24 /7);
        abgezogen = abgezogen + wochen *1000 *60 *60 *24 *7;
        console.log(wochen);
        var tage = Math.floor ((milli - abgezogen) /1000 /60 /60 /24) ;
        abgezogen = abgezogen + tage *1000 *60 *60 *24;
        console.log(tage);
        var stunden = Math.floor ((milli - abgezogen) /1000 /60 /60) ;
        abgezogen = abgezogen + stunden *1000 *60 *60;
        console.log(stunden);
        var minuten = Math.floor ((milli - abgezogen) /1000 /60) ;
        abgezogen = abgezogen + minuten *1000 *60;
        console.log(minuten);
        var sekunden = Math.floor ((milli - abgezogen) /1000) ;
        console.log(sekunden);

        console.log("----------------------------------------------")

      document.getElementById("FCountdown").innerText =  + wochen + " Woche(n), "+ tage + " Tag(e), " + stunden + " Stunde(n), " + minuten + " Minute(n), " + sekunden +" Sekunde(n)";
      setTimeout(getSecounds, 1000);
      }


      var select = document.getElementById("Auswahlferien")

      function selectChange () {
        console.log(select.value);
      }
      
      select.onchange = selectChange;
    </script>
  </body>
</html>  